# SDK

## 接口设计原则

- 单一职责原则(Single Responsibility Principle：SRP)：应该有且仅有一个原因引起类的变化。应该根据实际业务情况而定，关注变化点，在实际使用时，类很难做到职责单一，但是接口的职责应该尽量单一
- 里氏替换原则(Liskov Substitution Principle：LSP)：所有引用基类的地方必须可以透明的使用器子类的对象。其目的是为良好的继承定义了一个规范。
  - 在类中调用其他类时务必要使用父类或接口，如果不能使用父类或接口，则说明了类的设计已经违背开LSP原则
  - 子类必须完全实现父类的方法
  - 子类可以拓展自身的属性和方法
  - 覆盖或重写父类的方法时输出的结果可以被缩小，输入的参数可以被放大
- 依赖倒置原则(Dependence Inversion Principle：DIP)：
  - High level modules should not depend upon low level modules.Both should depend upon abstractions.Abstractions should not depend upon details.Details should depend upon abstractions：面向接口编程
  - 具体含义拆分
    - 高层模块不应该依赖于低层模块。两者都应该依赖其抽象
    - 抽象不应该依赖于细节
    - 细节应该依赖于抽象
- 接口隔离原则
  - 客户端不应该依赖其不需要的接口
  - 类间的依赖关系应该建立在最小的接口之上
  - 即：接口尽量细化，要建立单一的接口，同时接口中的方法尽量少
- 具体实践
  - 一个接口只服务于一个子模块或业务逻辑
  - 已经被污染的接口要尽量去修改，同时在必要的时候采用适配模式进行转化和处理
- 开闭原则：一个软件实体如类、模块和函数应该对齐拓展开放，对修改关闭

## 要求

- 浏览器兼容
- 执行机制
- 权限
- 安全
- hook/插件
- 功能模块
- 文档：商业接入流程、接入指引、架构介绍、更新方法、API说明、测试报告、常见问题、版本历史、接入验证方法或验证工具等，尤其有的优秀的SDK文档是包含新旧版本文档记录的，有重大迭代时对应的SDK文档也会有新版本的迭代更新，并且有旧版本的维护与升级说明
- 监控
- 用户数据
- 边界条件的判断，错误处理，避免 SDK 崩溃
  - JS异常
  - 资源加载异常
  - API 请求异常
  - 白屏异常
- 版本管理
  - 各版本日志
  - 